"use strict";function defferedQuery(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;clearTimeout(runner.queryName),"function"==typeof e&&(runner.queryName=setTimeout(function(){e()},n))}function requireDATA(){}function CalendarTable(t,e){function n(e,n,i,a,s){if(0==i.length&&"empty"!=a)if(s)e.innerHTML=n,e.setAttribute("data-month",11!=t.getMonth()?t.getMonth()+2:1),e.setAttribute("month","next");else{var r=new Date(t.getFullYear(),t.getMonth(),0).getDate();e.innerHTML=r-n,e.setAttribute("data-month",t.getMonth()||12),e.setAttribute("month","previous")}else e.innerHTML="-";e.className="other"}function i(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.innerHTML=n,t.getFullYear()!=a.getFullYear()||t.getMonth()!=a.getMonth()||n!=a.getDate()||i||(e.className="today")}this.getLastDayMonth=function(){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},this.getStartWeekday=function(){var e=new Date(t.getFullYear(),t.getMonth(),1).getDay();return 0===e?7:e},this.getDays=function(){for(var t=[],e=1;e<=this.getLastDayMonth();e++)t.push(e);return t};var a=t;this.getTable=function(t){var a=document.createElement("table");a.id="table-c",a.className="table table-bordered text-center";var s,r=document.createElement("tr");for(s=0;s<e.length;s++){var o=document.createElement("th");o.innerHTML=e[s],r.appendChild(o)}a.appendChild(r);var l,d=this.getStartWeekday(),h=this.getDays();for(r=document.createElement("tr"),s=1;s<=7;s++)l=document.createElement("td"),s<d?n(l,-s+d-1,[],r.getAttribute("class"),!1):i(l,h.shift(),t),r.appendChild(l);a.appendChild(r);for(var u=1;u<=5;u++){var c=1;if(0!=h.length){for(r=document.createElement("tr"),s=0;s<7;s++)l=document.createElement("td"),h.length>0?i(l,h.shift(),t):n(l,c++,h,r.getAttribute("class"),!0),r.appendChild(l);a.appendChild(r)}}return a}}function Calendar(t){function e(t){return t.toLocaleDateString(o,{year:"numeric",month:"long"})}function n(){var t=new Date,e=t.getDay(),n=t.getDate()-e+(0===e?-6:1);return t.setDate(n),t}function i(t){var e=document.createElement("button");return e.className="btn btn-success btn-sm",e.innerHTML=t,e}function a(t){var n=document.getElementById("calendar-box"),i=Number(n.getAttribute("data-year")),a=Number(n.getAttribute("data-month"))+(!0===t?1:-1),s=new Date(i,a,1);n.setAttribute("data-year",s.getFullYear()),n.setAttribute("data-month",s.getMonth());var r=document.getElementById("table-c"),o=new CalendarTable(s,l);n.replaceChild(o.getTable(!0),r),document.getElementById("c-title").innerHTML=e(s),getDateForDB(s,todayReruner,!0),monthTotalTime()}function s(){return a(!0)}function r(){return a(!1)}var o="en",l=function(){for(var t=n(),e=[],i=0;i<7;i++)e.push(function(t,e){var n=new Date(e);return n.setDate(e.getDate()+t),n.toLocaleDateString(o,{weekday:"short"})}(i,t));return e}();return function(){var n=document.createElement("div");n.id="calendar-box",n.setAttribute("data-year",t.getFullYear()),n.setAttribute("data-month",t.getMonth());var a=document.createElement("table");a.id="table-nc",a.className="table text-center";var o=document.createElement("tr"),d=document.createElement("td"),h=document.createElement("h4");h.id="c-title",h.innerHTML=e(t),d.appendChild(h);var u=document.createElement("td"),c=i('<i class="fa fa-arrow-left" aria-hidden="true"></i>');u.appendChild(c);var f=document.createElement("td"),m=i('<i class="fa fa-arrow-right" aria-hidden="true"></i>');f.appendChild(m),o.appendChild(u),o.appendChild(d),o.appendChild(f),a.appendChild(o),n.appendChild(a);var p=new CalendarTable(t,l);return n.appendChild(p.getTable()),m.addEventListener("click",s,!1),c.addEventListener("click",r,!1),n}()}function renderCalendar(t,e){var n=Calendar(t=void 0===t?new Date:new Date(t));document.getElementById("calendar")&&($("#calendar div#calendar-box").remove(),document.getElementById("calendar").appendChild(n)),monthTotalTime(),getDateForDB(t),"function"==typeof e&&e.call()}function momentShort(t,e){var n=moment(t);return e&&n.isoWeekday(e),n.format().split("T")[0]}function extrafunc(){$("#multiDelete").on("click",function(t){t.preventDefault(),"on"==$("#multiReport").attr("status")&&disableMultiReport($("#multiReport")),toggleSelectElemetnTable()}),$("#lastReport").on("click",function(t){t.preventDefault(),getLastReport()}),todayReruner(),$("#multiReport").on("click",function(t){t.preventDefault(),"on"==$(this).attr("status")?disableMultiReport(this):($("#multiReport span").removeClass("ioDeleteOFF").addClass("ioDeleteON"),$(this).attr("status","on"),$("#table-c td").off(),$("#nowDate").val($("#table-c .today").text()),"ioDeleteON"==$("#multiDelete").find("span").attr("class")&&toggleSelectElemetnTable(),pickMultiReport())}),$("#closeError").on("click",function(){$(this).parent("div").css("visibility","hidden").removeClass("show")})}function todayReruner(){$("#today").off(),$("#today").on("click",function(){showNowDay()})}function getLastReport(){var t={userName:$("#programmerName option:selected").val(),path:"./app/Controllers/extrafunc/"};HttpRequest.runQuery(paths.get,{method:"getLastReport",data:{name:$("#programmerName option:selected").val()}},function(t){var e=t.split(" ")[0];momentShort(new Date($("#calendar-box").attr("data-year")+"-"+todayMonthFromCalend()+"-"+$("#table-c td.today").html()))!=new Date(e).toJSON().split("T")[0]&&renderCalendar(e)}).done(function(){getCurentReport(t.userName,"getCalendar"),todayReruner()}).done(function(t){showNotify("Your last record: "+t.split(" ")[0],wait)})}function disableMultiReport(t){$("#multiReport span").removeClass("ioDeleteON").addClass("ioDeleteOFF"),$(t).attr("status","off"),$("#table-c td").off(),takeMyDate(),getDateForDB()}function takeMyDate(){$("#table-c td").removeClass("today"),$("#table-c td").each(function(){$(this).text()==$("#nowDate").val()&&$(this).addClass("today")})}function toggleSelectElemetnTable(t){if(""!=$("#tableReport").text()){var e="slow";"ioDeleteOFF"!=$("#multiDelete").find("span").attr("class")||t?($("#tableReport tbody tr").css("cursor","auto"),$("#multiDelete").find("span").removeClass("ioDeleteON").addClass("ioDeleteOFF")):($("#multiDelete").find("span").removeClass("ioDeleteOFF").addClass("ioDeleteON"),$("#tableReport tbody tr").css("cursor","pointer"),e=0),t?$(".deleteApp").fadeOut("slow"):($(".editRow").fadeToggle(e),$(".deleteRow").fadeToggle(e),$(".chekerDelete").toggle(),$(".deleteApp").fadeToggle("slow"))}}function pickMultiReport(){$("#table-c td").on("click",function(){$(this).hasClass("today")?$(this).removeClass("today"):$(this).addClass("today")})}function tableMassDeletePicker(){$("#tableReport tbody tr").on("click",function(){var t=void 0;"ioDeleteON"==$("#multiDelete span").attr("class")&&(t="visible"==$(this).find("td.chekerDelete i").css("visibility")?"hidden":"visible",$(this).find("td.chekerDelete i").css("visibility",t))})}function genDeleteList(){var t="";$("#tableReport tr").each(function(){"visible"==$(this).find(".chekerDelete i").css("visibility")&&(t+=$(this).attr("id").split("_")[0].split("it")[1]+",")}),$("#flashSelect").hasClass("btn-info")&&$("#flashSelect").removeClass("btn-info").addClass("btn-primary"),""!=t?HttpRequest.runQuery(paths.edit,{method:"removeRecord",data:{rec:t.substring(0,t.length-1)}},function(t){t&&showSQLError(t)}).done(function(){toggleSelectElemetnTable(),returnReportFromDB(returnDate())}).done(function(){showNotify("Deleting successful",wait)}):(toggleSelectElemetnTable(),showNotify("Nothing to deleting!",wait))}function flashSelectRecords(){$("#flashSelect").hasClass("btn-primary")?($("#tableReport tr td.chekerDelete i").css("visibility","visible"),$("#flashSelect").removeClass("btn-primary").addClass("btn-info")):($("#tableReport tr td.chekerDelete i").css("visibility","hidden"),$("#flashSelect").removeClass("btn-info").addClass("btn-primary"))}function showNotify(t,e){window.setTimeout(function(){var e=$(document).height()-$(window).scrollTop()-$(window).height(),n=$("footer").outerHeight(!0);$("#notifyTS").removeClass("showNotify").css({bottom:e>n?-n:-e}),window.setTimeout(function(){$("#notifyTS").addClass("showNotify")},15),$("#notifyTS .text").html(t)},e)}function tableSortAlg(){var t=0;$("#tableReport th").off(),$("#tableReport th").on("click",function(){var e=[],n=[],i={},a=0;if($(this).html()){++t,void 0!=$(this).attr("class")&&$(this).attr("class")?"asc"==$(this).attr("class")?$(this).attr("class","desc"):$(this).attr("class",""):$(this).attr("class","asc"),$(this).attr("class")?$(this).attr("sortNum",t):$(this).attr("sortNum",""),$("#tableReport th").each(function(i,a){$(a).attr("sortNum")&&(e[t-$(a).attr("sortNum")]=$(a).attr("attr"),n[t-$(a).attr("sortNum")]=$(a).attr("class"))}),$("#tableReport th").each(function(t,i){$(i).attr("sortNum")||(e.push($(i).attr("attr")),n.push("skip"),a++)});for(var s=0;s<e.length;s++)void 0!==e[s]&&(i[e[s]]=n[s]);9==a&&(i.dateJob="asc"),i.content="skip",$("#tableReport tbody tr").disassembleTable(["name","userName","account","descr","jobType","dateJob","hoursJob"]).keySort(i).renderSortReport("#tableReport tbody").querySelectorAll("tr").highlightRowTable("td."+(void 0===e[0]?"dateJob":e[0]))}}),$("#tableReport tbody tr").highlightRowTable("td.dateJob")}function throwError(t){throw"Ошибка "+t.name+":"+t.message+"\n"+t.stack}function returnReportFromDB(){function t(t,e){return t=t.replace(/[^\w]/g,"").toLowerCase(),e&&(t=t.replace(/\Bdiv$/,"")),t}var e=[],n={},i=["name","startDate","endDate"];e=arguments[0].split(",")[1]?arguments[0].split(","):arguments;for(var a=0;a<e.length;a++)n[i[a]]=e[a];$("#tableReport th").off(),HttpRequest.runQuery(paths.get,{method:"getReportWeek",data:n},function(e){t(e,!0)!==t($("#ReportWeek").html())&&$("#ReportWeek").html(e)}).done(function(){document.getElementById("tableReport")?$("#multiDelete").css("display","initial"):$("#multiDelete").css("display","none")})}function todayMonthFromCalend(t){return t=t||$("#table-c td.today"),t.attr("data-month")?parseInt(t.attr("data-month")):parseInt($("#calendar-box").attr("data-month"))+1}function monthTotalTime(){var t=parseFloat($("#calendar-box").attr("data-month"))+1,e=moment(new Date($("#calendar-box").attr("data-year")+"-"+(t<10?"0"+t:t)+"-01")).endOf("month"),n=momentShort(e._i),i=momentShort(e._d),a=["January","February","March","April","May","June","July","August","September","October","November","December"];HttpRequest.runQuery(paths.get,{method:"getTotalHoursOfMonth",data:{start:n,end:i,user:$("#programmerName option:selected").attr("idnum")}},function(e){$.each(e.days,function(t,n){-1!=[0,6].indexOf(new Date(t).getDay())&&(e.days[t]+=8),e.dayTotal+=e.days[t]}),$("#totalHoursofMoth").html("Total hours of "+a[t-1]+": "+e.summ+"h"+(e.dayTotal>0?" (OverTime: "+e.dayTotal+"h)":""))})}function getDateForDB(t,e,n){$("#table-c td").off(),!n&&printWeekDate(momentShort(t,1),momentShort(t,7),null,!1),"function"==typeof e&&e.call(),$("#table-c td").on("click",function(){if("-"!=$(this).html()){toggleSelectElemetnTable(!0),$("#table-c td").removeClass("today"),$(this).addClass("today");var t=this,e=todayMonthFromCalend(),n=new Date(function(t){var n=parseFloat($("#calendar-box").attr("data-year"));if(-1!==[12,1].indexOf(e))switch(e){case 12:"previous"==t.attr("month")&&n--;break;case 1:"next"==t.attr("month")&&n++}return n.toString()}($(t))+"-"+e+"-"+$(this).html()),i=momentShort(n).substring(5),a=$("#weekSEchk").val().match(/\d{2}-\d{2}/g),s=momentShort(n,1),r=momentShort(n,7),o=$("#programmerName").val();a[0]<=i&&i<=a[1]||(printWeekDate(s,r,null,!0),returnReportFromDB(o,s,r))}})}function getCurentReport(t,e){var n=void 0;if(n=momentShort("getCalendar"==e&&""!=$("td.today").text()?new Date($("#calendar-box").attr("data-year")+" "+todayMonthFromCalend()+" "+$("td.today").html()):new Date),!t||!n||void 0==t)throw"Check user login or date. Maybe incorect transfer. Function getCurentReport() file calendar.js";returnReportFromDB(t,momentShort(n,1),momentShort(n,7))}function insertData(t){var e=[],n=["Project","Object Type","Object Name","Programmer","Account","Description","Job Type","Job Date","Job Hours"],i=[],a=0,s=$(t).parents("tr").get(0),r=$(t).parents("tr"),o="";$("#editModal .modal-body").html("").append("<input type='hidden' id = 'hiddenVal'><div class='custEdit'><div><span>Customer:</span><select id = 'customer'></select></div></div><div class='objectsEdit'></div>"),$("#editModal #hiddenVal").val($(s).attr("id")),$(s).children("td").each(function(t,n){"modal"===$(n).attr("data-toggle")||$(n).hasClass("chekerDelete")?a+=1:e.push("jobType"===$(n).attr("class")?$(n).attr("class")+"_m":$(n).attr("class"))}),e.splice(1,0,"objectType_m","objNameTS_m");for(var l=a;l<$(s).children().length;l++)"name"===$(s).children()[l].getAttribute("class")?i.push($(s).children()[l].innerHTML.split("<")[0]):i.push($(s).children()[l].innerHTML);for(var d=0,h=0;d<e.length;d++,h++)if(["objectType_m","objNameTS_m"].indexOf(e[d])>-1)$("#editModal .modal-body .objectsEdit").append("<div><span>"+n[d]+":</span><select id = '"+e[d]+"'><option selected='selected'></option></select></div>"),h--;else if(["name","userName","account","jobType_m"].indexOf(e[d])>-1){var u="name"===e[d]?" .custEdit":"";$("#editModal .modal-body"+u).append("<"+(""!=u?"div":"p")+"><span>"+n[d]+":</span><select id = '"+e[d]+"'><option selected='selected'>"+i[h]+"</option></select></"+(""!=u?"div":"p")+">")}else switch(e[d]){case"descr":$("#editModal .modal-body").append("<p><span>"+n[d]+":<label id = 'descLegendEdit'>"+$("#descLegend").html()+"</label></span><textarea type='text'onblur= \"dscrValidator($(this),['#jobType_m','#descLegendEdit']);\"id='"+e[d]+"'>"+i[h]+"</textarea></p>");break;case"hoursJob":o='onblur="ValidDesc($(this),\'\',1);" onkeypress="return hoursChecker(0,null,event)"  onkeyup = "hoursChecker(1,$(this))" maxlength="3"';default:$("#editModal .modal-body").append("<p><span>"+n[d]+":</span><input type='text' id='"+e[d]+"' value ='"+i[h]+"'"+o+"></p>")}$("#objectType_m").html($("#objectType").html()),HttpRequest.runQuery(paths.get,{method:"getProject",data:{query:"Customer",switch:$(r).find("td.name span").html()}},function(t){$("#editModal select#customer").html(t)}).done(function(){HttpRequest.runQuery(paths.get,{getProject:{id:"name",data:{query:$("select#customer option:selected").val(),switch:$("select#name option").html()}},getUserName:{id:"userName",data:{edit:$("select#userName option").val()}}},function(t){getData4JSON(t);var e=$(r).find("td.jobType").html();$("select#jobType_m").html($("#jobType").html()),$("select#jobType_m option:contains('"+e.replace(/^ | $/,"")+"')").attr("selected",!0),$("#customer").change(function(){defferedQuery("customer",function(){$("#name").getPjName($("select#customer option:selected").val(),1)})})}).done(function(){for(var t=["#name","#objectType_m"],e=0;e<t.length;e++)!function(e){$(t[e]).change(function(){defferedQuery(t[e].substr(1),function(){getObjName(!1,"#objNameTS_m",{name:$("#name option:selected").val(),type:$("#objectType_m option:selected").val()})},100)})}(e);var n=$("#descr").val(),i=n.indexOf(":")>0?n.substring(n.indexOf(":")+2):n.indexOf("]")<0?n:"",a=(n.indexOf("]")>0?n.substring(1,n.indexOf("]")):"").split("=>")||"";$("#descr").val(i),new objectWorker(a).getObjTypeEditor().done(function(){this.getObjNameEditor().done(function(){$("#jobType_m").watchFromJobType(["#objectType_m","#objNameTS_m"],!0)})}),$("#editModal .modal-body input#dateJob").datepicker({format:"yyyy-mm-dd",language:"en",todayHighlight:!0})})})}function objectWorker(t){this._val=t,this.doIt=!0,this.stat=$.Deferred()}function getTDID(t){$("#deleteModal #hiddenVal").val($(t).parents("tr").attr("id").split("_")[0].split("it")[1])}function ReportEditTool(t){this._confArray=t}function getObjName(t,e,n,i){if(t||!firstRun){e=e||"#objName",$("#objectNameStore").attr("objname",$(e+" option:selected").text());var a=n||{name:$("#projectID option:selected").val(),type:$("#objectType option:selected").val()},s=function(){setTimeout(function(){getObjName(t,e,n,i)},100)};return void 0===a.name||void 0===a.type?s():($.when(HttpRequest.runQuery(paths.get,{method:"getObjectName",data:a},function(t){$(e).html(t)})).fail(function(){return s()}).done(function(){if(!$(e).html())return s();var t=$("#objectNameStore").attr("objname");return t&&"-none-"!=t.toLowerCase()&&$(e+" option").each(function(e,n){if($(n).text().replace(/^ | $/,"")==t)return $(n).attr("selected",!0),!0}),"function"==typeof i?i():void 0}),!0)}}function ValidDesc(t,e,n){return""==$(t).val()||n&&parseFloat(t.val())<=0?(""!=e&&$(e).css({opacity:"1",animation:"h 0.5s"}),$(t).addClass("incorrectInput"),!1):(""!=e&&($(e).css({"margin-left":"",animation:""}),$(e).css("opacity","0")),$(t).removeClass("incorrectInput"),!0)}function hoursChecker(t,e,n){return 1==t?$(e).val($(e).val().replace(/^(?![1-9]+)0*\.+/,"0.")):n.charCode>45&&n.charCode<58||n.charCode<32}function dscrValidator(t,e){return["1","2"].indexOf($(e[0]+" option:selected").val())<0?ValidDesc(t,e[1]):(offValidDescr(t,e[1]),!0)}function offValidDescr(t,e){$(e).css({"margin-left":"",animation:"",opacity:"0"}),$(t).removeClass("incorrectInput")}function changeButton(t,e){"disable"==t?$(e).addClass("disableButton"):$(e).removeClass("disableButton")}function ValidReport(t,e,n){var i=!0;return i=ValidDesc(t[0],e[0])&&dscrValidator($(t[1]||"#descrTextTS"),n||["#jobType","#descLegend"])&&i}function validObjectName(t){return"-None-"==$("#objName option:selected").html()&&"4"!=$("#jobType option:selected").val()&&6!=$("#objectType option:selected").val()?($("#errorObjectName").css({opacity:"1",animation:"showError 0.5s"}),$("#objName").addClass("incorrectInput"),!1):($("#errorObjectName").css({"margin-left":"",animation:""}),$("#errorObjectName").css("opacity","0"),$("#objName").removeClass("incorrectInput"),!0)}function insertNewReport(){}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},paths={get:"Query/getdata",edit:"Query/editdata"},firstRun=!0,logStatus=!0,log=function(t){logStatus&&console.log(t)},runner={};Object.prototype.parsetoJSON=function(){if("object"==_typeof(this))return JSON.stringify(this);throw"This val is not Object!"},Object.defineProperty(Object.prototype,"parsetoJSON",{enumerable:!1}),requireDATA.prototype={runQuery:function(t,e,n){var i=$.parseJSON(JSON.stringify(e)),a=this;return $.ajax({type:"POST",url:t,dataType:"JSON",data:i,error:function(t,e,n){console.log("xhr="+t+" b="+e+" c="+n)},success:function(t){"function"==typeof n&&n(a.IsJsonString(t)?JSON.parse(t):t)}})},IsJsonString:function(t){try{JSON.parse(t)}catch(t){return!1}return!0}};var HttpRequest=new requireDATA;log("STATUS: Setup config complete ..."),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){function t(){return ve.apply(null,arguments)}function e(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function i(t){var e;for(e in t)return!1;return!0}function a(t){return void 0===t}function s(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function o(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){for(var n in e)l(e,n)&&(t[n]=e[n]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,i){return jt(t,e,n,i,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function c(t){return null==t._pf&&(t._pf=u()),t._pf}function f(t){if(null==t._isValid){var e=c(t),n=we.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function m(t){var e=h(NaN);return null!=t?d(c(e),t):c(e).userInvalidated=!0,e}function p(t,e){var n,i,s;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=c(e)),a(e._locale)||(t._locale=e._locale),De.length>0)for(n=0;n<De.length;n++)a(s=e[i=De[n]])||(t[i]=s);return t}function y(e){p(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===be&&(be=!0,t.updateOffset(this),be=!1)}function g(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function v(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=v(e)),n}function w(t,e,n){var i,a=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(i=0;i<a;i++)(n&&t[i]!==e[i]||!n&&_(t[i])!==_(e[i]))&&r++;return r+s}function D(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function b(e,n){var i=!0;return d(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var a,s=[],r=0;r<arguments.length;r++){if(a="","object"==typeof arguments[r]){a+="\n["+r+"] ";for(var o in arguments[0])a+=o+": "+arguments[0][o]+", ";a=a.slice(0,-2)}else a=arguments[r];s.push(a)}D(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function k(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),ke[e]||(D(n),ke[e]=!0)}function M(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t,e){var i,a=d({},t);for(i in e)l(e,i)&&(n(t[i])&&n(e[i])?(a[i]={},d(a[i],t[i]),d(a[i],e[i])):null!=e[i]?a[i]=e[i]:delete a[i]);for(i in t)l(t,i)&&!l(e,i)&&n(t[i])&&(a[i]=d({},a[i]));return a}function S(t){null!=t&&this.set(t)}function C(t,e){var n=t.toLowerCase();Ye[n]=Ye[n+"s"]=Ye[e]=t}function $(t){return"string"==typeof t?Ye[t]||Ye[t.toLowerCase()]:void 0}function x(t){var e,n,i={};for(n in t)l(t,n)&&(e=$(n))&&(i[e]=t[n]);return i}function O(t,e){Ne[t]=e}function Y(t){var e=[];for(var n in t)e.push({unit:n,priority:Ne[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function N(e,n){return function(i){return null!=i?(F(this,e,i),t.updateOffset(this,n),this):R(this,e)}}function R(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function F(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function j(t,e,n){var i=""+Math.abs(t),a=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}function U(t,e,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),t&&(Ue[t]=a),e&&(Ue[e[0]]=function(){return j(a.apply(this,arguments),e[1],e[2])}),n&&(Ue[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function W(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function E(t){var e,n,i=t.match(Re);for(e=0,n=i.length;e<n;e++)Ue[i[e]]?i[e]=Ue[i[e]]:i[e]=W(i[e]);return function(e){var a,s="";for(a=0;a<n;a++)s+=M(i[a])?i[a].call(e,t):i[a];return s}}function V(t,e){return t.isValid()?(e=P(e,t.localeData()),je[e]=je[e]||E(e),je[e](t)):t.localeData().invalidDate()}function P(t,e){var n=5;for(Fe.lastIndex=0;n>=0&&Fe.test(t);)t=t.replace(Fe,function(t){return e.longDateFormat(t)||t}),Fe.lastIndex=0,n-=1;return t}function A(t,e,n){tn[t]=M(e)?e:function(t,i){return t&&n?n:e}}function H(t,e){return l(tn,t)?tn[t](e._strict,e._locale):new RegExp(L(t))}function L(t){return I(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,a){return e||n||i||a}))}function I(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function G(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),s(e)&&(i=function(t,n){n[e]=_(t)}),n=0;n<t.length;n++)en[t[n]]=i}function J(t,e){G(t,function(t,n,i,a){i._w=i._w||{},e(t,i._w,i,a)})}function q(t,e,n){null!=e&&l(en,t)&&en[t](e,n._a,n,t)}function z(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function B(t,e,n){var i,a,s,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(a=cn.call(this._shortMonthsParse,r))?a:null:-1!==(a=cn.call(this._longMonthsParse,r))?a:null:"MMM"===e?-1!==(a=cn.call(this._shortMonthsParse,r))?a:-1!==(a=cn.call(this._longMonthsParse,r))?a:null:-1!==(a=cn.call(this._longMonthsParse,r))?a:-1!==(a=cn.call(this._shortMonthsParse,r))?a:null}function Q(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(e=t.localeData().monthsParse(e),!s(e))return t;return n=Math.min(t.date(),z(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Z(e){return null!=e?(Q(this,e),t.updateOffset(this,!0),this):R(this,"Month")}function K(){function t(t,e){return e.length-t.length}var e,n,i=[],a=[],s=[];for(e=0;e<12;e++)n=h([2e3,e]),i.push(this.monthsShort(n,"")),a.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(i.sort(t),a.sort(t),s.sort(t),e=0;e<12;e++)i[e]=I(i[e]),a[e]=I(a[e]);for(e=0;e<24;e++)s[e]=I(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function X(t){return tt(t)?366:365}function tt(t){return t%4==0&&t%100!=0||t%400==0}function et(t,e,n,i,a,s,r){var o=new Date(t,e,n,i,a,s,r);return t<100&&t>=0&&isFinite(o.getFullYear())&&o.setFullYear(t),o}function nt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function it(t,e,n){var i=7+e-n;return-((7+nt(t,0,i).getUTCDay()-e)%7)+i-1}function at(t,e,n,i,a){var s,r,o=1+7*(e-1)+(7+n-i)%7+it(t,i,a);return o<=0?r=X(s=t-1)+o:o>X(t)?(s=t+1,r=o-X(t)):(s=t,r=o),{year:s,dayOfYear:r}}function st(t,e,n){var i,a,s=it(t.year(),e,n),r=Math.floor((t.dayOfYear()-s-1)/7)+1;return r<1?i=r+rt(a=t.year()-1,e,n):r>rt(t.year(),e,n)?(i=r-rt(t.year(),e,n),a=t.year()+1):(a=t.year(),i=r),{week:i,year:a}}function rt(t,e,n){var i=it(t,e,n),a=it(t+1,e,n);return(X(t)-i+a)/7}function ot(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function lt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function dt(t,e,n){var i,a,s,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(a=cn.call(this._weekdaysParse,r))?a:null:"ddd"===e?-1!==(a=cn.call(this._shortWeekdaysParse,r))?a:null:-1!==(a=cn.call(this._minWeekdaysParse,r))?a:null:"dddd"===e?-1!==(a=cn.call(this._weekdaysParse,r))?a:-1!==(a=cn.call(this._shortWeekdaysParse,r))?a:-1!==(a=cn.call(this._minWeekdaysParse,r))?a:null:"ddd"===e?-1!==(a=cn.call(this._shortWeekdaysParse,r))?a:-1!==(a=cn.call(this._weekdaysParse,r))?a:-1!==(a=cn.call(this._minWeekdaysParse,r))?a:null:-1!==(a=cn.call(this._minWeekdaysParse,r))?a:-1!==(a=cn.call(this._weekdaysParse,r))?a:-1!==(a=cn.call(this._shortWeekdaysParse,r))?a:null}function ht(){function t(t,e){return e.length-t.length}var e,n,i,a,s,r=[],o=[],l=[],d=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),i=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),s=this.weekdays(n,""),r.push(i),o.push(a),l.push(s),d.push(i),d.push(a),d.push(s);for(r.sort(t),o.sort(t),l.sort(t),d.sort(t),e=0;e<7;e++)o[e]=I(o[e]),l[e]=I(l[e]),d[e]=I(d[e]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ut(){return this.hours()%12||12}function ct(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ft(t,e){return e._meridiemParse}function mt(t){return t?t.toLowerCase().replace("_","-"):t}function pt(t){for(var e,n,i,a,s=0;s<t.length;){for(e=(a=mt(t[s]).split("-")).length,n=(n=mt(t[s+1]))?n.split("-"):null;e>0;){if(i=yt(a.slice(0,e).join("-")))return i;if(n&&n.length>=e&&w(a,n,!0)>=e-1)break;e--}s++}return null}function yt(t){var e=null;if(!On[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Sn._abbr,require("./locale/"+t),gt(e)}catch(t){}return On[t]}function gt(t,e){var n;return t&&(n=a(e)?_t(t):vt(t,e))&&(Sn=n),Sn._abbr}function vt(t,e){if(null!==e){var n=xn;if(e.abbr=t,null!=On[t])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=On[t]._config;else if(null!=e.parentLocale){if(null==On[e.parentLocale])return Yn[e.parentLocale]||(Yn[e.parentLocale]=[]),Yn[e.parentLocale].push({name:t,config:e}),null;n=On[e.parentLocale]._config}return On[t]=new S(T(n,e)),Yn[t]&&Yn[t].forEach(function(t){vt(t.name,t.config)}),gt(t),On[t]}return delete On[t],null}function _t(t){var n;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Sn;if(!e(t)){if(n=yt(t))return n;t=[t]}return pt(t)}function wt(t){var e,n=t._a;return n&&-2===c(t).overflow&&(e=n[an]<0||n[an]>11?an:n[sn]<1||n[sn]>z(n[nn],n[an])?sn:n[rn]<0||n[rn]>24||24===n[rn]&&(0!==n[on]||0!==n[ln]||0!==n[dn])?rn:n[on]<0||n[on]>59?on:n[ln]<0||n[ln]>59?ln:n[dn]<0||n[dn]>999?dn:-1,c(t)._overflowDayOfYear&&(e<nn||e>sn)&&(e=sn),c(t)._overflowWeeks&&-1===e&&(e=hn),c(t)._overflowWeekday&&-1===e&&(e=un),c(t).overflow=e),t}function Dt(t){var e,n,i,a,s,r,o=t._i,l=Nn.exec(o)||Rn.exec(o);if(l){for(c(t).iso=!0,e=0,n=jn.length;e<n;e++)if(jn[e][1].exec(l[1])){a=jn[e][0],i=!1!==jn[e][2];break}if(null==a)return void(t._isValid=!1);if(l[3]){for(e=0,n=Un.length;e<n;e++)if(Un[e][1].exec(l[3])){s=(l[2]||" ")+Un[e][0];break}if(null==s)return void(t._isValid=!1)}if(!i&&null!=s)return void(t._isValid=!1);if(l[4]){if(!Fn.exec(l[4]))return void(t._isValid=!1);r="Z"}t._f=a+(s||"")+(r||""),$t(t)}else t._isValid=!1}function bt(t){var e,n,i,a,s,r,o,l,d={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(e=t._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=En.exec(e)){if(i=n[1]?"ddd"+(5===n[1].length?", ":" "):"",a="D MMM "+(n[2].length>10?"YYYY ":"YY "),s="HH:mm"+(n[4]?":ss":""),n[1]){var h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(n[2]).getDay()];if(n[1].substr(0,3)!==h)return c(t).weekdayMismatch=!0,void(t._isValid=!1)}switch(n[5].length){case 2:o=0===l?" +0000":((l="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(n[5][1].toUpperCase())-12)<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:o=d[n[5]];break;default:o=d[" GMT"]}n[5]=o,t._i=n.splice(1).join(""),r=" ZZ",t._f=i+a+s+r,$t(t),c(t).rfc2822=!0}else t._isValid=!1}function kt(e){var n=Wn.exec(e._i);null===n?(Dt(e),!1===e._isValid&&(delete e._isValid,bt(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))):e._d=new Date(+n[1])}function Mt(t,e,n){return null!=t?t:null!=e?e:n}function Tt(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function St(t){var e,n,i,a,s=[];if(!t._d){for(i=Tt(t),t._w&&null==t._a[sn]&&null==t._a[an]&&Ct(t),null!=t._dayOfYear&&(a=Mt(t._a[nn],i[nn]),(t._dayOfYear>X(a)||0===t._dayOfYear)&&(c(t)._overflowDayOfYear=!0),n=nt(a,0,t._dayOfYear),t._a[an]=n.getUTCMonth(),t._a[sn]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[rn]&&0===t._a[on]&&0===t._a[ln]&&0===t._a[dn]&&(t._nextDay=!0,t._a[rn]=0),t._d=(t._useUTC?nt:et).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[rn]=24)}}function Ct(t){var e,n,i,a,s,r,o,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)s=1,r=4,n=Mt(e.GG,t._a[nn],st(Ut(),1,4).year),i=Mt(e.W,1),((a=Mt(e.E,1))<1||a>7)&&(l=!0);else{s=t._locale._week.dow,r=t._locale._week.doy;var d=st(Ut(),s,r);n=Mt(e.gg,t._a[nn],d.year),i=Mt(e.w,d.week),null!=e.d?((a=e.d)<0||a>6)&&(l=!0):null!=e.e?(a=e.e+s,(e.e<0||e.e>6)&&(l=!0)):a=s}i<1||i>rt(n,s,r)?c(t)._overflowWeeks=!0:null!=l?c(t)._overflowWeekday=!0:(o=at(n,i,a,s,r),t._a[nn]=o.year,t._dayOfYear=o.dayOfYear)}function $t(e){if(e._f!==t.ISO_8601)if(e._f!==t.RFC_2822){e._a=[],c(e).empty=!0;var n,i,a,s,r,o=""+e._i,l=o.length,d=0;for(a=P(e._f,e._locale).match(Re)||[],n=0;n<a.length;n++)s=a[n],(i=(o.match(H(s,e))||[])[0])&&((r=o.substr(0,o.indexOf(i))).length>0&&c(e).unusedInput.push(r),o=o.slice(o.indexOf(i)+i.length),d+=i.length),Ue[s]?(i?c(e).empty=!1:c(e).unusedTokens.push(s),q(s,i,e)):e._strict&&!i&&c(e).unusedTokens.push(s);c(e).charsLeftOver=l-d,o.length>0&&c(e).unusedInput.push(o),e._a[rn]<=12&&!0===c(e).bigHour&&e._a[rn]>0&&(c(e).bigHour=void 0),c(e).parsedDateParts=e._a.slice(0),c(e).meridiem=e._meridiem,e._a[rn]=xt(e._locale,e._a[rn],e._meridiem),St(e),wt(e)}else bt(e);else Dt(e)}function xt(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function Ot(t){var e,n,i,a,s;if(0===t._f.length)return c(t).invalidFormat=!0,void(t._d=new Date(NaN));for(a=0;a<t._f.length;a++)s=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[a],$t(e),f(e)&&(s+=c(e).charsLeftOver,s+=10*c(e).unusedTokens.length,c(e).score=s,(null==i||s<i)&&(i=s,n=e));d(t,n||e)}function Yt(t){if(!t._d){var e=x(t._i);t._a=o([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),St(t)}}function Nt(t){var e=new y(wt(Rt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Rt(t){var n=t._i,i=t._f;return t._locale=t._locale||_t(t._l),null===n||void 0===i&&""===n?m({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),g(n)?new y(wt(n)):(r(n)?t._d=n:e(i)?Ot(t):i?$t(t):Ft(t),f(t)||(t._d=null),t))}function Ft(i){var l=i._i;a(l)?i._d=new Date(t.now()):r(l)?i._d=new Date(l.valueOf()):"string"==typeof l?kt(i):e(l)?(i._a=o(l.slice(0),function(t){return parseInt(t,10)}),St(i)):n(l)?Yt(i):s(l)?i._d=new Date(l):t.createFromInputFallback(i)}function jt(t,a,s,r,o){var l={};return!0!==s&&!1!==s||(r=s,s=void 0),(n(t)&&i(t)||e(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=s,l._i=t,l._f=a,l._strict=r,Nt(l)}function Ut(t,e,n,i){return jt(t,e,n,i,!1)}function Wt(t,n){var i,a;if(1===n.length&&e(n[0])&&(n=n[0]),!n.length)return Ut();for(i=n[0],a=1;a<n.length;++a)n[a].isValid()&&!n[a][t](i)||(i=n[a]);return i}function Et(t){for(var e in t)if(-1===An.indexOf(e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<An.length;++i)if(t[An[i]]){if(n)return!1;parseFloat(t[An[i]])!==_(t[An[i]])&&(n=!0)}return!0}function Vt(t){var e=x(t),n=e.year||0,i=e.quarter||0,a=e.month||0,s=e.week||0,r=e.day||0,o=e.hour||0,l=e.minute||0,d=e.second||0,h=e.millisecond||0;this._isValid=Et(e),this._milliseconds=+h+1e3*d+6e4*l+1e3*o*60*60,this._days=+r+7*s,this._months=+a+3*i+12*n,this._data={},this._locale=_t(),this._bubble()}function Pt(t){return t instanceof Vt}function At(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ht(t,e){U(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+j(~~(t/60),2)+e+j(~~t%60,2)})}function Lt(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Hn)||["-",0,0],a=60*i[1]+_(i[2]);return 0===a?0:"+"===i[0]?a:-a}function It(e,n){var i,a;return n._isUTC?(i=n.clone(),a=(g(e)||r(e)?e.valueOf():Ut(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),t.updateOffset(i,!1),i):Ut(e).local()}function Gt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Jt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function qt(t,e){var n,i,a,r=t,o=null;return Pt(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(r={},e?r[e]=t:r.milliseconds=t):(o=Ln.exec(t))?(n="-"===o[1]?-1:1,r={y:0,d:_(o[sn])*n,h:_(o[rn])*n,m:_(o[on])*n,s:_(o[ln])*n,ms:_(At(1e3*o[dn]))*n}):(o=In.exec(t))?(n="-"===o[1]?-1:1,r={y:zt(o[2],n),M:zt(o[3],n),w:zt(o[4],n),d:zt(o[5],n),h:zt(o[6],n),m:zt(o[7],n),s:zt(o[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(a=Qt(Ut(r.from),Ut(r.to)),(r={}).ms=a.milliseconds,r.M=a.months),i=new Vt(r),Pt(t)&&l(t,"_locale")&&(i._locale=t._locale),i}function zt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Bt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Qt(t,e){var n;return t.isValid()&&e.isValid()?(e=It(e,t),t.isBefore(e)?n=Bt(t,e):((n=Bt(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Zt(t,e){return function(n,i){var a,s;return null===i||isNaN(+i)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=i,i=s),n="string"==typeof n?+n:n,a=qt(n,i),Kt(this,a,t),this}}function Kt(e,n,i,a){var s=n._milliseconds,r=At(n._days),o=At(n._months);e.isValid()&&(a=null==a||a,s&&e._d.setTime(e._d.valueOf()+s*i),r&&F(e,"Date",R(e,"Date")+r*i),o&&Q(e,R(e,"Month")+o*i),a&&t.updateOffset(e,r||o))}function Xt(t,e){var n,i=12*(e.year()-t.year())+(e.month()-t.month()),a=t.clone().add(i,"months");return n=e-a<0?(e-a)/(a-t.clone().add(i-1,"months")):(e-a)/(t.clone().add(i+1,"months")-a),-(i+n)||0}function te(t){var e;return void 0===t?this._locale._abbr:(null!=(e=_t(t))&&(this._locale=e),this)}function ee(){return this._locale}function ne(t,e){U(0,[t,t.length],0,e)}function ie(t,e,n,i,a){var s;return null==t?st(this,i,a).year:(s=rt(t,i,a),e>s&&(e=s),ae.call(this,t,e,n,i,a))}function ae(t,e,n,i,a){var s=at(t,e,n,i,a),r=nt(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function se(t){return t}function re(t,e,n,i){var a=_t(),s=h().set(i,e);return a[n](s,t)}function oe(t,e,n){if(s(t)&&(e=t,t=void 0),t=t||"",null!=e)return re(t,e,n,"month");var i,a=[];for(i=0;i<12;i++)a[i]=re(t,i,n,"month");return a}function le(t,e,n,i){"boolean"==typeof t?(s(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,s(e)&&(n=e,e=void 0),e=e||"");var a=_t(),r=t?a._week.dow:0;if(null!=n)return re(e,(n+r)%7,i,"day");var o,l=[];for(o=0;o<7;o++)l[o]=re(e,(o+r)%7,i,"day");return l}function de(t,e,n,i){var a=qt(e,n);return t._milliseconds+=i*a._milliseconds,t._days+=i*a._days,t._months+=i*a._months,t._bubble()}function he(t){return t<0?Math.floor(t):Math.ceil(t)}function ue(t){return 4800*t/146097}function ce(t){return 146097*t/4800}function fe(t){return function(){return this.as(t)}}function me(t){return function(){return this.isValid()?this._data[t]:NaN}}function pe(t,e,n,i,a){return a.relativeTime(e||1,!!n,t,i)}function ye(t,e,n){var i=qt(t).abs(),a=gi(i.as("s")),s=gi(i.as("m")),r=gi(i.as("h")),o=gi(i.as("d")),l=gi(i.as("M")),d=gi(i.as("y")),h=a<=vi.ss&&["s",a]||a<vi.s&&["ss",a]||s<=1&&["m"]||s<vi.m&&["mm",s]||r<=1&&["h"]||r<vi.h&&["hh",r]||o<=1&&["d"]||o<vi.d&&["dd",o]||l<=1&&["M"]||l<vi.M&&["MM",l]||d<=1&&["y"]||["yy",d];return h[2]=e,h[3]=+t>0,h[4]=n,pe.apply(null,h)}function ge(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i=_i(this._milliseconds)/1e3,a=_i(this._days),s=_i(this._months);e=v((t=v(i/60))/60),i%=60,t%=60;var r=n=v(s/12),o=s%=12,l=a,d=e,h=t,u=i,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(r?r+"Y":"")+(o?o+"M":"")+(l?l+"D":"")+(d||h||u?"T":"")+(d?d+"H":"")+(h?h+"M":"")+(u?u+"S":""):"P0D"}var ve,_e,we=_e=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},De=t.momentProperties=[],be=!1,ke={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Me,Te,Se=Me=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)l(t,e)&&n.push(e);return n},Ce={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},$e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},xe=/\d{1,2}/,Oe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ye={},Ne={},Re=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Fe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,je={},Ue={},We=/\d/,Ee=/\d\d/,Ve=/\d{3}/,Pe=/\d{4}/,Ae=/[+-]?\d{6}/,He=/\d\d?/,Le=/\d\d\d\d?/,Ie=/\d\d\d\d\d\d?/,Ge=/\d{1,3}/,Je=/\d{1,4}/,qe=/[+-]?\d{1,6}/,ze=/\d+/,Be=/[+-]?\d+/,Qe=/Z|[+-]\d\d:?\d\d/gi,Ze=/Z|[+-]\d\d(?::?\d\d)?/gi,Ke=/[+-]?\d+(\.\d{1,3})?/,Xe=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,tn={},en={},nn=0,an=1,sn=2,rn=3,on=4,ln=5,dn=6,hn=7,un=8,cn=Te=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),U("MMMM",0,0,function(t){return this.localeData().months(this,t)}),C("month","M"),O("month",8),A("M",He),A("MM",He,Ee),A("MMM",function(t,e){return e.monthsShortRegex(t)}),A("MMMM",function(t,e){return e.monthsRegex(t)}),G(["M","MM"],function(t,e){e[an]=_(t)-1}),G(["MMM","MMMM"],function(t,e,n,i){var a=n._locale.monthsParse(t,i,n._strict);null!=a?e[an]=a:c(n).invalidMonth=t});var fn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,mn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yn=Xe,gn=Xe;U("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),C("year","y"),O("year",1),A("Y",Be),A("YY",He,Ee),A("YYYY",Je,Pe),A("YYYYY",qe,Ae),A("YYYYYY",qe,Ae),G(["YYYYY","YYYYYY"],nn),G("YYYY",function(e,n){n[nn]=2===e.length?t.parseTwoDigitYear(e):_(e)}),G("YY",function(e,n){n[nn]=t.parseTwoDigitYear(e)}),G("Y",function(t,e){e[nn]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var vn=N("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),O("week",5),O("isoWeek",5),A("w",He),A("ww",He,Ee),A("W",He),A("WW",He,Ee),J(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=_(t)});var _n={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),O("day",11),O("weekday",11),O("isoWeekday",11),A("d",He),A("e",He),A("E",He),A("dd",function(t,e){return e.weekdaysMinRegex(t)}),A("ddd",function(t,e){return e.weekdaysShortRegex(t)}),A("dddd",function(t,e){return e.weekdaysRegex(t)}),J(["dd","ddd","dddd"],function(t,e,n,i){var a=n._locale.weekdaysParse(t,i,n._strict);null!=a?e.d=a:c(n).invalidWeekday=t}),J(["d","e","E"],function(t,e,n,i){e[i]=_(t)});var wn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),bn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),kn=Xe,Mn=Xe,Tn=Xe;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,ut),U("k",["kk",2],0,function(){return this.hours()||24}),U("hmm",0,0,function(){return""+ut.apply(this)+j(this.minutes(),2)}),U("hmmss",0,0,function(){return""+ut.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+j(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)}),ct("a",!0),ct("A",!1),C("hour","h"),O("hour",13),A("a",ft),A("A",ft),A("H",He),A("h",He),A("k",He),A("HH",He,Ee),A("hh",He,Ee),A("kk",He,Ee),A("hmm",Le),A("hmmss",Ie),A("Hmm",Le),A("Hmmss",Ie),G(["H","HH"],rn),G(["k","kk"],function(t,e,n){var i=_(t);e[rn]=24===i?0:i}),G(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),G(["h","hh"],function(t,e,n){e[rn]=_(t),c(n).bigHour=!0}),G("hmm",function(t,e,n){var i=t.length-2;e[rn]=_(t.substr(0,i)),e[on]=_(t.substr(i)),c(n).bigHour=!0}),G("hmmss",function(t,e,n){var i=t.length-4,a=t.length-2;e[rn]=_(t.substr(0,i)),e[on]=_(t.substr(i,2)),e[ln]=_(t.substr(a)),c(n).bigHour=!0}),G("Hmm",function(t,e,n){var i=t.length-2;e[rn]=_(t.substr(0,i)),e[on]=_(t.substr(i))}),G("Hmmss",function(t,e,n){var i=t.length-4,a=t.length-2;e[rn]=_(t.substr(0,i)),e[on]=_(t.substr(i,2)),e[ln]=_(t.substr(a))});var Sn,Cn=/[ap]\.?m?\.?/i,$n=N("Hours",!0),xn={calendar:Ce,longDateFormat:$e,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:xe,relativeTime:Oe,months:mn,monthsShort:pn,week:_n,weekdays:wn,weekdaysMin:bn,weekdaysShort:Dn,meridiemParse:Cn},On={},Yn={},Nn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Rn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fn=/Z|[+-]\d\d(?::?\d\d)?/,jn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Un=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wn=/^\/?Date\((\-?\d+)/i,En=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=b("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Vn=b("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ut.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()}),Pn=b("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ut.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}),An=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ht("Z",":"),Ht("ZZ",""),A("Z",Ze),A("ZZ",Ze),G(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Lt(Ze,t)});var Hn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ln=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,In=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;qt.fn=Vt.prototype,qt.invalid=function(){return qt(NaN)};var Gn=Zt(1,"add"),Jn=Zt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var qn=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ne("gggg","weekYear"),ne("ggggg","weekYear"),ne("GGGG","isoWeekYear"),ne("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),O("weekYear",1),O("isoWeekYear",1),A("G",Be),A("g",Be),A("GG",He,Ee),A("gg",He,Ee),A("GGGG",Je,Pe),A("gggg",Je,Pe),A("GGGGG",qe,Ae),A("ggggg",qe,Ae),J(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=_(t)}),J(["gg","GG"],function(e,n,i,a){n[a]=t.parseTwoDigitYear(e)}),U("Q",0,"Qo","quarter"),C("quarter","Q"),O("quarter",7),A("Q",We),G("Q",function(t,e){e[an]=3*(_(t)-1)}),U("D",["DD",2],"Do","date"),C("date","D"),O("date",9),A("D",He),A("DD",He,Ee),A("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),G(["D","DD"],sn),G("Do",function(t,e){e[sn]=_(t.match(He)[0],10)});var zn=N("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),O("dayOfYear",4),A("DDD",Ge),A("DDDD",Ve),G(["DDD","DDDD"],function(t,e,n){n._dayOfYear=_(t)}),U("m",["mm",2],0,"minute"),C("minute","m"),O("minute",14),A("m",He),A("mm",He,Ee),G(["m","mm"],on);var Bn=N("Minutes",!1);U("s",["ss",2],0,"second"),C("second","s"),O("second",15),A("s",He),A("ss",He,Ee),G(["s","ss"],ln);var Qn=N("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),O("millisecond",16),A("S",Ge,We),A("SS",Ge,Ee),A("SSS",Ge,Ve);var Zn;for(Zn="SSSS";Zn.length<=9;Zn+="S")A(Zn,ze);for(Zn="S";Zn.length<=9;Zn+="S")G(Zn,function(t,e){e[dn]=_(1e3*("0."+t))});var Kn=N("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var Xn=y.prototype;Xn.add=Gn,Xn.calendar=function(e,n){var i=e||Ut(),a=It(i,this).startOf("day"),s=t.calendarFormat(this,a)||"sameElse",r=n&&(M(n[s])?n[s].call(this,i):n[s]);return this.format(r||this.localeData().calendar(s,this,Ut(i)))},Xn.clone=function(){return new y(this)},Xn.diff=function(t,e,n){var i,a,s,r;return this.isValid()&&(i=It(t,this)).isValid()?(a=6e4*(i.utcOffset()-this.utcOffset()),"year"===(e=$(e))||"month"===e||"quarter"===e?(r=Xt(this,i),"quarter"===e?r/=3:"year"===e&&(r/=12)):(s=this-i,r="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-a)/864e5:"week"===e?(s-a)/6048e5:s),n?r:v(r)):NaN},Xn.endOf=function(t){return void 0===(t=$(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},Xn.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=V(this,e);return this.localeData().postformat(n)},Xn.from=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||Ut(t).isValid())?qt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Xn.fromNow=function(t){return this.from(Ut(),t)},Xn.to=function(t,e){return this.isValid()&&(g(t)&&t.isValid()||Ut(t).isValid())?qt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Xn.toNow=function(t){return this.to(Ut(),t)},Xn.get=function(t){return t=$(t),M(this[t])?this[t]():this},Xn.invalidAt=function(){return c(this).overflow},Xn.isAfter=function(t,e){var n=g(t)?t:Ut(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=$(a(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},Xn.isBefore=function(t,e){var n=g(t)?t:Ut(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=$(a(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},Xn.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},Xn.isSame=function(t,e){var n,i=g(t)?t:Ut(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=$(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},Xn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Xn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Xn.isValid=function(){return f(this)},Xn.lang=qn,Xn.locale=te,Xn.localeData=ee,Xn.max=Pn,Xn.min=Vn,Xn.parsingFlags=function(){return d({},c(this))},Xn.set=function(t,e){if("object"==typeof t)for(var n=Y(t=x(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(t=$(t),M(this[t]))return this[t](e);return this},Xn.startOf=function(t){switch(t=$(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},Xn.subtract=Jn,Xn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Xn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Xn.toDate=function(){return new Date(this.valueOf())},Xn.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?V(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):M(Date.prototype.toISOString)?this.toDate().toISOString():V(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Xn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+a)},Xn.toJSON=function(){return this.isValid()?this.toISOString():null},Xn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Xn.unix=function(){return Math.floor(this.valueOf()/1e3)},Xn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Xn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Xn.year=vn,Xn.isLeapYear=function(){return tt(this.year())},Xn.weekYear=function(t){return ie.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Xn.isoWeekYear=function(t){return ie.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Xn.quarter=Xn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Xn.month=Z,Xn.daysInMonth=function(){return z(this.year(),this.month())},Xn.week=Xn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Xn.isoWeek=Xn.isoWeeks=function(t){var e=st(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Xn.weeksInYear=function(){var t=this.localeData()._week;return rt(this.year(),t.dow,t.doy)},Xn.isoWeeksInYear=function(){return rt(this.year(),1,4)},Xn.date=zn,Xn.day=Xn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=ot(t,this.localeData()),this.add(t-e,"d")):e},Xn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Xn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=lt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},Xn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Xn.hour=Xn.hours=$n,Xn.minute=Xn.minutes=Bn,Xn.second=Xn.seconds=Qn,Xn.millisecond=Xn.milliseconds=Kn,Xn.utcOffset=function(e,n,i){var a,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Lt(Ze,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&n&&(a=Gt(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),s!==e&&(!n||this._changeInProgress?Kt(this,qt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Gt(this)},Xn.utc=function(t){return this.utcOffset(0,t)},Xn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Gt(this),"m")),this},Xn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Lt(Qe,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},Xn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ut(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Xn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Xn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Xn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Xn.isUtc=Jt,Xn.isUTC=Jt,Xn.zoneAbbr=function(){return this._isUTC?"UTC":""},Xn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Xn.dates=b("dates accessor is deprecated. Use date instead.",zn),Xn.months=b("months accessor is deprecated. Use month instead",Z),Xn.years=b("years accessor is deprecated. Use year instead",vn),Xn.zone=b("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),Xn.isDSTShifted=b("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t={};if(p(t,this),(t=Rt(t))._a){var e=t._isUTC?h(t._a):Ut(t._a);this._isDSTShifted=this.isValid()&&w(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var ti=S.prototype;ti.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return M(i)?i.call(e,n):i},ti.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},ti.invalidDate=function(){return this._invalidDate},ti.ordinal=function(t){return this._ordinal.replace("%d",t)},ti.preparse=se,ti.postformat=se,ti.relativeTime=function(t,e,n,i){var a=this._relativeTime[n];return M(a)?a(t,e,n,i):a.replace(/%d/i,t)},ti.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return M(n)?n(e):n.replace(/%s/i,e)},ti.set=function(t){var e,n;for(n in t)M(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ti.months=function(t,n){return t?e(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||fn).test(n)?"format":"standalone"][t.month()]:e(this._months)?this._months:this._months.standalone},ti.monthsShort=function(t,n){return t?e(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[fn.test(n)?"format":"standalone"][t.month()]:e(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ti.monthsParse=function(t,e,n){var i,a,s;if(this._monthsParseExact)return B.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(a=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},ti.monthsRegex=function(t){return this._monthsParseExact?(l(this,"_monthsRegex")||K.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=gn),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},ti.monthsShortRegex=function(t){return this._monthsParseExact?(l(this,"_monthsRegex")||K.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=yn),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},ti.week=function(t){return st(t,this._week.dow,this._week.doy).week},ti.firstDayOfYear=function(){return this._week.doy},ti.firstDayOfWeek=function(){return this._week.dow},ti.weekdays=function(t,n){return t?e(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][t.day()]:e(this._weekdays)?this._weekdays:this._weekdays.standalone},ti.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},ti.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},ti.weekdaysParse=function(t,e,n){var i,a,s;if(this._weekdaysParseExact)return dt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(a=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},ti.weekdaysRegex=function(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ht.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=kn),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},ti.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ht.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mn),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ti.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ht.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Tn),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ti.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},ti.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},gt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=b("moment.lang is deprecated. Use moment.locale instead.",gt),t.langData=b("moment.langData is deprecated. Use moment.localeData instead.",_t);var ei=Math.abs,ni=fe("ms"),ii=fe("s"),ai=fe("m"),si=fe("h"),ri=fe("d"),oi=fe("w"),li=fe("M"),di=fe("y"),hi=me("milliseconds"),ui=me("seconds"),ci=me("minutes"),fi=me("hours"),mi=me("days"),pi=me("months"),yi=me("years"),gi=Math.round,vi={ss:44,s:45,m:45,h:22,d:26,M:11},_i=Math.abs,wi=Vt.prototype;return wi.isValid=function(){return this._isValid},wi.abs=function(){var t=this._data;return this._milliseconds=ei(this._milliseconds),this._days=ei(this._days),this._months=ei(this._months),t.milliseconds=ei(t.milliseconds),t.seconds=ei(t.seconds),t.minutes=ei(t.minutes),t.hours=ei(t.hours),t.months=ei(t.months),t.years=ei(t.years),this},wi.add=function(t,e){return de(this,t,e,1)},wi.subtract=function(t,e){return de(this,t,e,-1)},wi.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=$(t))||"year"===t)return e=this._days+i/864e5,n=this._months+ue(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ce(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},wi.asMilliseconds=ni,wi.asSeconds=ii,wi.asMinutes=ai,wi.asHours=si,wi.asDays=ri,wi.asWeeks=oi,wi.asMonths=li,wi.asYears=di,wi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN},wi._bubble=function(){var t,e,n,i,a,s=this._milliseconds,r=this._days,o=this._months,l=this._data;return s>=0&&r>=0&&o>=0||s<=0&&r<=0&&o<=0||(s+=864e5*he(ce(o)+r),r=0,o=0),l.milliseconds=s%1e3,t=v(s/1e3),l.seconds=t%60,e=v(t/60),l.minutes=e%60,n=v(e/60),l.hours=n%24,r+=v(n/24),a=v(ue(r)),o+=a,r-=he(ce(a)),i=v(o/12),o%=12,l.days=r,l.months=o,l.years=i,this},wi.get=function(t){return t=$(t),this.isValid()?this[t+"s"]():NaN},wi.milliseconds=hi,wi.seconds=ui,wi.minutes=ci,wi.hours=fi,wi.days=mi,wi.weeks=function(){return v(this.days()/7)},wi.months=pi,wi.years=yi,wi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=ye(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},wi.toISOString=ge,wi.toString=ge,wi.toJSON=ge,wi.locale=te,wi.localeData=ee,wi.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ge),wi.lang=qn,U("X",0,0,"unix"),U("x",0,0,"valueOf"),A("x",Be),A("X",Ke),G("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),G("x",function(t,e,n){n._d=new Date(_(t))}),t.version="2.18.1",function(t){ve=t}(Ut),t.fn=Xn,t.min=function(){return Wt("isBefore",[].slice.call(arguments,0))},t.max=function(){return Wt("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=h,t.unix=function(t){return Ut(1e3*t)},t.months=function(t,e){return oe(t,e,"months")},t.isDate=r,t.locale=gt,t.invalid=m,t.duration=qt,t.isMoment=g,t.weekdays=function(t,e,n){return le(t,e,n,"weekdays")},t.parseZone=function(){return Ut.apply(null,arguments).parseZone()},t.localeData=_t,t.isDuration=Pt,t.monthsShort=function(t,e){return oe(t,e,"monthsShort")},t.weekdaysMin=function(t,e,n){return le(t,e,n,"weekdaysMin")},t.defineLocale=vt,t.updateLocale=function(t,e){if(null!=e){var n,i=xn;null!=On[t]&&(i=On[t]._config),(n=new S(e=T(i,e))).parentLocale=On[t],On[t]=n,gt(t)}else null!=On[t]&&(null!=On[t].parentLocale?On[t]=On[t].parentLocale:null!=On[t]&&delete On[t]);return On[t]},t.locales=function(){return Se(On)},t.weekdaysShort=function(t,e,n){return le(t,e,n,"weekdaysShort")},t.normalizeUnits=$,t.relativeTimeRounding=function(t){return void 0===t?gi:"function"==typeof t&&(gi=t,!0)},t.relativeTimeThreshold=function(t,e){return void 0!==vi[t]&&(void 0===e?vi[t]:(vi[t]=e,"s"===t&&(vi.ss=e-1),!0))},t.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},t.prototype=Xn,t});var putData=function(t){HttpRequest.runQuery(paths.get,{method:"getProject",data:{query:"Customer"}},function(t){$("#customerID").html(t)}).done(function(){for(var t=["#projectID","#objectType"],e=0;e<t.length;e++)!function(e){$(t[e]).change(function(){defferedQuery(t[e].substr(1),function(){getObjName()},200)})}(e);$("#projectID").getPjName(document.getElementById("customerID").value)}),$("#jobType")&&HttpRequest.runQuery(paths.get,{method:"getJobType"},function(t){$("#jobType").html(t)}),HttpRequest.runQuery(paths.get,{getUserName:{id:"programmerName"},getObjectType:{method:"getObjectType",id:"objectType"}},function(t){getData4JSON(t)}).done(function(){getObjName(!0,null,null,function(){$("body").addClass("loaded"),"function"==typeof t&&t()})})};log("STATUS: Ajax request file loaded ...");var getData4JSON=function(t){$.each(function(){try{return JSON.parse(t)}catch(e){return t}}(),function(t,e){if(e.val){if(void 0!=e.condition&&!e.condition)return;var n=void 0!=e.id?"#"+e.id:"."+e.class,i="";e.val instanceof Array&&$.each(e.val,function(t,e){""!=e&&(i+=e)}),i=i||e.val,$(n).html(i.replace(/^ | $/,""))}})};Object.prototype.getPjName=function(t,e){var n=this;defferedQuery("getPjName",function(){HttpRequest.runQuery(paths.get,{method:"getProject",data:{query:t}},function(t){$(n).html(t)}).done(function(){if(document.getElementById("jobType")){var t=0,n=0;e&&(t=trval||{name:$("#name option:selected").val(),type:$("#objectType_m option:selected").val()},n="#objNameTS_m"),getObjName(0,n,t),firstRun=!1}})},150)},Object.defineProperty(Object.prototype,"getPjName",{enumerable:!1});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}(function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function a(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function s(n,i){return function(){return i!==e&&t.fn.datepicker.deprecated(i),this[n].apply(this,arguments)}}function r(t){return t&&!isNaN(t.getTime())}function o(e,n){var i=t(e).data(),a={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var r in i)n.test(r)&&(a[r.replace(s,function(t,e){return e.toLowerCase()})]=i[r]);return a}function l(e){var n={};if(y[e]||(e=e.split("-")[0],y[e])){var i=y[e];return t.each(p,function(t,e){e in i&&(n[e]=i[e])}),n}}var d=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-e&&this[n].valueOf()-e<864e5)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new d;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),h=function(e,n){t.data(e,"datepicker",this),this._process_options(n),this.dates=new d,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=t(g.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};h.prototype={constructor:h,_resolveViewName:function(e){return t.each(g.viewModes,function(n,i){if(e===n||-1!==t.inArray(e,i.names))return e=n,!1}),e},_resolveDaysOfWeek:function(e){return t.isArray(e)||(e=e.split(/[,\s]*/)),t.map(e,Number)},_check_template:function(n){try{return n!==e&&""!==n&&((n.match(/[<>]/g)||[]).length<=0||t(n).length>0)}catch(t){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var a=this.o=t.extend({},this._o),s=a.language;y[s]||(s=s.split("-")[0],y[s]||(s=m.language)),a.language=s,a.startView=this._resolveViewName(a.startView),a.minViewMode=this._resolveViewName(a.minViewMode),a.maxViewMode=this._resolveViewName(a.maxViewMode),a.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,a.startView)),!0!==a.multidate&&(a.multidate=Number(a.multidate)||!1,!1!==a.multidate&&(a.multidate=Math.max(0,a.multidate))),a.multidateSeparator=String(a.multidateSeparator),a.weekStart%=7,a.weekEnd=(a.weekStart+6)%7;var r=g.parseFormat(a.format);a.startDate!==-1/0&&(a.startDate?a.startDate instanceof Date?a.startDate=this._local_to_utc(this._zero_time(a.startDate)):a.startDate=g.parseDate(a.startDate,r,a.language,a.assumeNearbyYear):a.startDate=-1/0),a.endDate!==1/0&&(a.endDate?a.endDate instanceof Date?a.endDate=this._local_to_utc(this._zero_time(a.endDate)):a.endDate=g.parseDate(a.endDate,r,a.language,a.assumeNearbyYear):a.endDate=1/0),a.daysOfWeekDisabled=this._resolveDaysOfWeek(a.daysOfWeekDisabled||[]),a.daysOfWeekHighlighted=this._resolveDaysOfWeek(a.daysOfWeekHighlighted||[]),a.datesDisabled=a.datesDisabled||[],t.isArray(a.datesDisabled)||(a.datesDisabled=a.datesDisabled.split(",")),a.datesDisabled=t.map(a.datesDisabled,function(t){return g.parseDate(t,r,a.language,a.assumeNearbyYear)});var o=String(a.orientation).toLowerCase().split(/\s+/g),l=a.orientation.toLowerCase();if(o=t.grep(o,function(t){return/^auto|left|right|top|bottom$/.test(t)}),a.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===o.length)switch(o[0]){case"top":case"bottom":a.orientation.y=o[0];break;case"left":case"right":a.orientation.x=o[0]}else l=t.grep(o,function(t){return/^left|right$/.test(t)}),a.orientation.x=l[0]||"auto",l=t.grep(o,function(t){return/^top|bottom$/.test(t)}),a.orientation.y=l[0]||"auto";else;if(a.defaultViewDate instanceof Date||"string"==typeof a.defaultViewDate)a.defaultViewDate=g.parseDate(a.defaultViewDate,r,a.language,a.assumeNearbyYear);else if(a.defaultViewDate){var d=a.defaultViewDate.year||(new Date).getFullYear(),h=a.defaultViewDate.month||0,u=a.defaultViewDate.day||1;a.defaultViewDate=n(d,h,u)}else a.defaultViewDate=i()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,a,s=0;s<t.length;s++)n=t[s][0],2===t[s].length?(i=e,a=t[s][1]):3===t[s].length&&(i=t[s][1],a=t[s][2]),n.on(a,i)},_unapplyEvents:function(t){for(var n,i,a,s=0;s<t.length;s++)n=t[s][0],2===t[s].length?(a=e,i=t[s][1]):3===t[s].length&&(a=t[s][1],i=t[s][2]),n.off(i,a)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:this._events=[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[this.picker,".prev, .next",{click:t.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:t.proxy(this.dayCellClick,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),a=this._utc_to_local(i);this.element.trigger({type:e,date:a,viewMode:this.viewMode,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return g.formatDate(n,e,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var n;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))n=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),e.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==e?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,t.map(e,this._utc_to_local)),this},setDate:s("setDates"),setUTCDate:s("setUTCDates"),remove:s("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return g.formatDate(t,n,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=t(this.o.container),a=i.width(),s="body"===this.o.container?t(document).scrollTop():i.scrollTop(),r=i.offset(),o=[0];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==Number(e)&&o.push(Number(e))});var l=Math.max.apply(Math,o)+this.o.zIndexOffset,d=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),c=d.left-r.left,f=d.top-r.top;"body"!==this.o.container&&(f+=s),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(c-=e-u)):d.left<0?(this.picker.addClass("datepicker-orient-left"),c-=d.left-10):c+e>a?(this.picker.addClass("datepicker-orient-right"),c+=u-e):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var m=this.o.orientation.y;if("auto"===m&&(m=-s+f-n<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+m),"top"===m?f-=n+parseInt(this.picker.css("padding-top")):f+=h,this.o.rtl){var p=a-(c+u);this.picker.css({top:f,right:p,zIndex:l})}else this.picker.css({top:f,left:c,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],i=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return g.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=t.grep(n,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),i?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&i&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(n+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)n+='<th class="dow',-1!==t.inArray(e,this.o.daysOfWeekDisabled)&&(n+=" disabled"),n+='">'+y[this.o.language].daysMin[e++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",n=0;n<12;n++)e+='<span class="month'+(t&&t.getMonth()===n?" focused":"")+'">'+y[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],s=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),o=i();return e.getUTCFullYear()<s||e.getUTCFullYear()===s&&e.getUTCMonth()<r?n.push("old"):(e.getUTCFullYear()>s||e.getUTCFullYear()===s&&e.getUTCMonth()>r)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&a(e,o)&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),this.dateWithinRange(e)||n.push("disabled"),this.dateIsDisabled(e)&&n.push("disabled","disabled-date"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&n.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected"),e.valueOf()===this.range[0]&&n.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,i,a,s,r,o,l){for(var d,h,u,c="",f=a/10,m=this.picker.find(n),p=Math.floor(s/a)*a,y=p+9*f,g=Math.floor(this.viewDate.getFullYear()/f)*f,v=t.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/f)*f}),_=p-f;_<=y+f;_+=f)d=[i],h=null,_===p-f?d.push("old"):_===y+f&&d.push("new"),-1!==t.inArray(_,v)&&d.push("active"),(_<r||_>o)&&d.push("disabled"),_===g&&d.push("focused"),l!==t.noop&&((u=l(new Date(_,0,1)))===e?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u}),!1===u.enabled&&d.push("disabled"),u.classes&&(d=d.concat(u.classes.split(/\s+/))),u.tooltip&&(h=u.tooltip)),c+='<span class="'+d.join(" ")+'"'+(h?' title="'+h+'"':"")+">"+_+"</span>";m.find(".datepicker-switch").text(p+"-"+y),m.find("td").html(c)},fill:function(){var i,a,s=new Date(this.viewDate),r=s.getUTCFullYear(),o=s.getUTCMonth(),l=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,d=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=y[this.o.language].today||y.en.today||"",f=y[this.o.language].clear||y.en.clear||"",m=y[this.o.language].titleFormat||y.en.titleFormat;if(!isNaN(r)&&!isNaN(o)){this.picker.find(".datepicker-days .datepicker-switch").text(g.formatDate(s,m,this.o.language)),this.picker.find("tfoot .today").text(c).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(f).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var p=n(r,o,0),v=p.getUTCDate();p.setUTCDate(v-(p.getUTCDay()-this.o.weekStart+7)%7);var _=new Date(p);p.getUTCFullYear()<100&&_.setUTCFullYear(p.getUTCFullYear()),_.setUTCDate(_.getUTCDate()+42),_=_.valueOf();for(var w,D,b=[];p.valueOf()<_;){if((w=p.getUTCDay())===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var k=new Date(+p+(this.o.weekStart-w-7)%7*864e5),M=new Date(Number(k)+(11-k.getUTCDay())%7*864e5),T=new Date(Number(T=n(M.getUTCFullYear(),0,1))+(11-T.getUTCDay())%7*864e5),S=(M-T)/864e5/7+1;b.push('<td class="cw">'+S+"</td>")}(D=this.getClassNames(p)).push("day");var C=p.getUTCDate();this.o.beforeShowDay!==t.noop&&((a=this.o.beforeShowDay(this._utc_to_local(p)))===e?a={}:"boolean"==typeof a?a={enabled:a}:"string"==typeof a&&(a={classes:a}),!1===a.enabled&&D.push("disabled"),a.classes&&(D=D.concat(a.classes.split(/\s+/))),a.tooltip&&(i=a.tooltip),a.content&&(C=a.content)),D=t.isFunction(t.uniqueSort)?t.uniqueSort(D):t.unique(D),b.push('<td class="'+D.join(" ")+'"'+(i?' title="'+i+'"':"")+' data-date="'+p.getTime().toString()+'">'+C+"</td>"),i=null,w===this.o.weekEnd&&b.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(b.join(""));var $=y[this.o.language].monthsTitle||y.en.monthsTitle||"Months",x=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?$:r).end().find("tbody span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===r&&x.eq(e.getUTCMonth()).addClass("active")}),(r<l||r>h)&&x.addClass("disabled"),r===l&&x.slice(0,d).addClass("disabled"),r===h&&x.slice(u+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var O=this;t.each(x,function(n,i){var a=new Date(r,n,1),s=O.o.beforeShowMonth(a);s===e?s={}:"boolean"==typeof s?s={enabled:s}:"string"==typeof s&&(s={classes:s}),!1!==s.enabled||t(i).hasClass("disabled")||t(i).addClass("disabled"),s.classes&&t(i).addClass(s.classes),s.tooltip&&t(i).prop("title",s.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,r,l,h,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,r,l,h,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,r,l,h,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,n=new Date(this.viewDate),i=n.getUTCFullYear(),a=n.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,r=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,o=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=1;switch(this.viewMode){case 0:t=i<=s&&a<=r,e=i>=o&&a>=l;break;case 4:d*=10;case 3:d*=10;case 2:d*=10;case 1:t=Math.floor(i/d)*d<=s,e=Math.floor(i/d)*d+d>=o}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(e){e.preventDefault(),e.stopPropagation();var a,s,r,o;(a=t(e.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),a.hasClass("today")&&!a.hasClass("day")&&(this.setViewMode(0),this._setDate(i(),"linked"===this.o.todayBtn?null:"view")),a.hasClass("clear")&&this.clearDates(),a.hasClass("disabled")||(a.hasClass("month")||a.hasClass("year")||a.hasClass("decade")||a.hasClass("century"))&&(this.viewDate.setUTCDate(1),s=1,1===this.viewMode?(o=a.parent().find("span").index(a),r=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(o)):(o=0,r=Number(a.text()),this.viewDate.setUTCFullYear(r)),this._trigger(g.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(n(r,o,s)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){var n=t(e.currentTarget).data("date"),i=new Date(n);this.o.updateViewDate&&(i.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),i.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(i)},navArrowsClick:function(e){var n=t(e.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(n*=12*g.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,n),this._trigger(g.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!r(t))return this.o.defaultViewDate;if(!e)return t;var n,i,a=new Date(t.valueOf()),s=a.getUTCDate(),o=a.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)i=-1===e?function(){return a.getUTCMonth()===o}:function(){return a.getUTCMonth()!==n},n=o+e,a.setUTCMonth(n),n=(n+12)%12;else{for(var d=0;d<l;d++)a=this.moveMonth(a,e);n=a.getUTCMonth(),a.setUTCDate(s),i=function(){return n!==a.getUTCMonth()}}for(;i();)a.setUTCDate(--s),a.setUTCMonth(n);return a},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return a(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,n,i=!1,a=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(a,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(n=this.moveAvailableDate(a,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(a,e,"moveDay"):this.weekOfDateIsDisabled(a)||(n=this.moveAvailableDate(a,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(a,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(a,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;a=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(a),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+g.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var u=function(e,n){t.data(e,"datepicker",this),this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,this.keepEmptyValues=n.keepEmptyValues,delete n.keepEmptyValues,f.call(t(this.inputs),n).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t.data(e,"datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(n){if(!this.updating){this.updating=!0;var i=t.data(n.target,"datepicker");if(i!==e){var a=i.getUTCDate(),s=this.keepEmptyValues,r=t.inArray(n.target,this.inputs),o=r-1,l=r+1,d=this.inputs.length;if(-1!==r){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e!==i&&s||e.setUTCDate(a)}),a<this.dates[o])for(;o>=0&&a<this.dates[o];)this.pickers[o--].setUTCDate(a);else if(a>this.dates[l])for(;l<d&&a>this.dates[l];)this.pickers[l++].setUTCDate(a);this.updateDates(),delete this.updating}}}},destroy:function(){t.map(this.pickers,function(t){t.destroy()}),t(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:s("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var c=t.fn.datepicker,f=function(n){var i=Array.apply(null,arguments);i.shift();var a;if(this.each(function(){var e=t(this),s=e.data("datepicker"),r="object"===(void 0===n?"undefined":_typeof(n))&&n;if(!s){var d=o(this,"date"),c=l(t.extend({},m,d,r).language),f=t.extend({},m,c,d,r);e.hasClass("input-daterange")||f.inputs?(t.extend(f,{inputs:f.inputs||e.find("input").toArray()}),s=new u(this,f)):s=new h(this,f),e.data("datepicker",s)}"string"==typeof n&&"function"==typeof s[n]&&(a=s[n].apply(s,i))}),a===e||a instanceof h||a instanceof u)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return a};t.fn.datepicker=f;var m=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},p=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=h;var y=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},g={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(n,a,s,r){function o(t,e){return!0===e&&(e=10),t<100&&(t+=2e3)>(new Date).getFullYear()+e&&(t-=100),t}function l(){var t=this.slice(0,d[f].length),e=d[f].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!n)return e;if(n instanceof Date)return n;if("string"==typeof a&&(a=g.parseFormat(a)),a.toValue)return a.toValue(n,a,s);var d,u,c,f,m,p={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},v={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(n in v&&(n=v[n]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(n)){for(d=n.match(/([\-+]\d+)([dmwy])/gi),n=new Date,f=0;f<d.length;f++)u=d[f].match(/([\-+]\d+)([dmwy])/i),c=Number(u[1]),m=p[u[2].toLowerCase()],n=h.prototype[m](n,c);return h.prototype._zero_utc_time(n)}d=n&&n.match(this.nonpunctuation)||[];var _,w,D={},b=["yyyy","yy","M","MM","m","mm","d","dd"],k={yyyy:function(t,e){return t.setUTCFullYear(r?o(e,r):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};k.yy=k.yyyy,k.M=k.MM=k.mm=k.m,k.dd=k.d,n=i();var M=a.parts.slice();if(d.length!==M.length&&(M=t(M).filter(function(e,n){return-1!==t.inArray(n,b)}).toArray()),d.length===M.length){var T;for(f=0,T=M.length;f<T;f++){if(_=parseInt(d[f],10),u=M[f],isNaN(_))switch(u){case"MM":w=t(y[s].months).filter(l),_=t.inArray(w[0],y[s].months)+1;break;case"M":w=t(y[s].monthsShort).filter(l),_=t.inArray(w[0],y[s].monthsShort)+1}D[u]=_}var S,C;for(f=0;f<b.length;f++)(C=b[f])in D&&!isNaN(D[C])&&(S=new Date(n),k[C](S,D[C]),isNaN(S)||(n=S))}return n},formatDate:function(e,n,i){if(!e)return"";if("string"==typeof n&&(n=g.parseFormat(n)),n.toDisplay)return n.toDisplay(e,n,i);var a={d:e.getUTCDate(),D:y[i].daysShort[e.getUTCDay()],DD:y[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:y[i].monthsShort[e.getUTCMonth()],MM:y[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,e=[];for(var s=t.extend([],n.separators),r=0,o=n.parts.length;r<=o;r++)s.length&&e.push(s.shift()),e.push(a[n.parts[r]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+m.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+m.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=g,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=c,this},t.fn.datepicker.version="1.7.0-RC3",t.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),f.call(n,"show"))}),t(function(){f.call(t('[data-provide="datepicker-inline"]'))})});var showNowDay=function(){var t=momentShort(new Date);if(momentShort(new Date($("#calendar-box").attr("data-year")+"-"+todayMonthFromCalend()+"-"+$("#table-c td.today").html()))==t)return showNotify("Already selected the current date!",wait);renderCalendar(t,todayReruner),getCurentReport($("#programmerName option:selected").val(),"getCalendar"),showNotify("Now is: "+t,wait)};String.prototype.quoteString=function(t){var e=/(\\)/g;return this.replace(e,"\\$&")},Object.prototype.disassembleTable=function(t){var e=[];return $(this).each(function(n,i){var a={},s=0;$(this).children().each(function(e,n){""!=$(this).text()&&("name"==t[s]?a[t[s]]=$(this).children("span").text()+$(this).html().split("<br>")[0]:a[t[s]]=parseFloat($(this).text())&&"dateJob"!==t[s]?parseFloat($(this).text()):$(this).text(),s++)}),a.content='<tr id = "'+$(this).attr("id")+'">'+$(this).html()+"</tr>",e.push(a)}),e},Object.defineProperty(Object.prototype,"disassembleTable",{enumerable:!1}),Object.prototype.renderSortReport=function(t){if(void 0===t)throw"Out Table value empty, check input value! renderSortReport();";try{$(t).html("");for(var e=0;e<function(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(this);e++)$(t).append(this[e].content);return document.querySelector(t)}catch(t){throwError(t)}},Object.defineProperty(Object.prototype,"renderSortReport",{enumerable:!1}),Object.prototype.highlightRowTable=function(t){var e=[],n=[],i={},a=[],s=0,r=void 0;$(this).find(t).each(function(i,a){"name"==t?e.push($(this).children("span").text()+$(this).html().split("<br>")[0]):e.push($(this).html()),n.push($(this).parent("tr").attr("id"))});for(var o=0;o<n.length;o++)a[e[o]]=void 0==a[e[o]]?0:a[e[o]],i[e[o]]=n[o],"td.dateJob"==t&&(a[e[o]]+=parseFloat($("#"+n[o]).find(".hoursJob").text())),s+=parseFloat($("#"+n[o]).find(".hoursJob").text());$("head style").remove(),$.each(i,function(e,n){if($("#"+n).css({"border-bottom":"2px solid #b5b3b3"}),"td.dateJob"==t){var i="position: absolute;text-shadow:0px 1px 1px white;color:grey;font-size:14px;margin-top:30px;margin-left:10px;content: '"+a[e]+" h';font-family: FontAwesome;font-style: normal;font-weight: bold;text-decoration: inherit;";$("<style>#"+n+":after{"+i+"}</style>").appendTo("head"),r=(r||0)+parseFloat(a[e])+(-1!=[0,6].indexOf(new Date(e).getDay())?0:-8)}});var l=r>0?s+" h (OverTime: "+r+" h)":s+" h",d="position: absolute;text-shadow:0px 1px 1px white;color:grey;font-size:14px;margin-top:5px;left:"+($("#tableReport tbody").offset().left+$("#tableReport tbody").outerWidth()-(r>0?230:120))+"px;content:'Total hours: "+l+"';font-family: FontAwesome;font-style: normal;font-weight: bold;text-decoration: inherit;";$("<style>#tableReport tbody:after{"+d+"}</style>").appendTo("head")},Object.defineProperty(Object.prototype,"highlightRowTable",{enumerable:!1}),Array.prototype.keySort=function(t){var e=function(t,e){var n,i=0;for(n in t)if(t.hasOwnProperty(n)){if(i==e)return n;i++}return!1},n=function(t,e,n){return n=null!==n?n:1,t==e?0:t>e?1*n:-1*n},i=function(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(t=t||{});if(!i)return this.sort(n);for(var a in t)t[a]="desc"==t[a]||-1==t[a]?-1:"skip"==t[a]||0===t[a]?0:1;return this.sort(function(a,s){for(var r=0,o=0;0===r&&o<i;){var l=e(t,o);if(l){var d=t[l];r=n(a[l],s[l],d),o++}}return r}),this};var print=function t(e,n,i,a){n=null!=n?n:"",i=null!=i?i:"\n",a=null!=a?a:" ";var s="";for(var r in e)if("string"==typeof e[r]||"number"==typeof e[r]){var o=(e[r],"");s+=a+r+": "+o+e[r]+o+"; "+n}else s+=a+r+": {"+n+t(e[r],n,i,a+a)+a+"}"+i;return s};log("STATUS: Report worker loaded ... ");var ajaxObj={},wait=500;objectWorker.prototype={getObjTypeEditor:function(){var t=this._val[0]||"Dataset";if($("#objectType_m option:contains("+t.replace(/^ | $/,"")+")").attr("selected",!0),void 0==this._val[1]&&(this.doIt=!1),this.getObName())return this.stat.resolve("and"),this},getObName:function(){if(getObjName(!1,"#objNameTS_m",{name:$("#name option:selected").val(),type:$("#objectType_m option:selected").val()}))return!0},getObjNameEditor:function(){var t=this;return this.doIt&&this.wait(200,function(){$("#objNameTS_m option:contains('"+t._val[1].replace(/^ | $/,"")+"')").attr("selected",!0)}),this.stat.resolve("and"),this},wait:function(t,e){setTimeout(function(){e()},t)},done:function(t){var e=this;return this.stat.promise().done(function(){return t.call(e),e})}},ReportEditTool.prototype={updateReport:function(){var t=this;return $("#updateReport").on("click",function(){if(ValidReport(t._confArray[0],t._confArray[1],t._confArray[2])){var e={},n=["hiddenVal","objNameTS_m","jobType_m","userName","descr","dateJob","hoursJob"];$(".buttonPlace").addClass("success");for(var i=0;i<n.length;i++)if(["name","jobType_m","objNameTS_m"].indexOf(n[i])>-1)e[i]=$("#editModal select#"+n[i]+" option:selected").val();else switch(n[i]){case"userName":e[i]=$("#editModal select#"+n[i]+" option:selected").attr("idnum");break;case"descr":e[i]=t.descriptionCreator(n[i]);break;default:e[i]=$("#editModal input#"+n[i]).val()}var a=e;t.wait(200,function(){HttpRequest.runQuery(paths.edit,{method:"UpDateDB",data:a},function(t){showSQLError(t)}).done(function(){returnReportFromDB(returnDate()),monthTotalTime()})}).wait(300,function(){$("#editModal").modal("hide")}).wait(500,function(){$(".buttonPlace").removeClass("success"),$("#editModal .modal-body").html("")}).disableModalWin(),showNotify("Record update successful",300)}}),this},descriptionCreator:function(t){var e=void 0;["1","2"].indexOf($("#jobType_m").val())>-1&&(i="["+$("#objectType_m option:selected").text()+("-none-"!==$("#objNameTS_m option:selected").text().toLowerCase()?" => "+$("#objNameTS_m option:selected").text():"")+"]",e=e||!0);var n=$("textarea#"+t).val().replace(/^ +|( )+$/,"").replace(/[\n\r]+$/gm," "),i=i||"";return encodeURIComponent((i+(""!=n?(e?": ":"")+n:"")).quoteString())},deleteRecord:function(){var t=this;return $(".deleteButton .btn-danger").on("click",function(){$(".deleteButton").addClass("success");$("#deleteModal #hiddenVal").val();var e=t;HttpRequest.runQuery(paths.edit,{method:"removeRecord",data:{rec:$("#deleteModal #hiddenVal").val()}},function(t){t&&showSQLError(t)}).done(function(){e.wait(200,function(){returnReportFromDB(returnDate()),monthTotalTime()})}),t.wait(300,function(){$("#deleteModal").modal("hide")}).wait(500,function(){$(".deleteButton").removeClass("success")}),showNotify("Record delete successful",300)}),this},wait:function(t,e){return setTimeout(function(){e()},t),this},disableModalWin:function(){return $("#editModal").find("*").not("#updateReport").not("#removeReportLine").off(),this},clearModalWhenCancel:function(){var t=this;return $("#removeReportLine").on("click",function(){t.disableModalWin().wait(300,function(){$("#editModal .modal-body").html("")})}),this},runAllEvent:function(){return this.updateReport().deleteRecord().clearModalWhenCancel()}},$("#show").on("click",function(){console.log($(this).serialize())}),Object.prototype.watchFromJobType=function(t,e){function n(t,e){"add"==t?this.addClass(e):this.removeClass(e)}var i=void 0,a=void 0,s=function(e){["1","2"].indexOf($(e).children("option:selected").val())<0?(i=!0,a="add"):(offValidDescr(),i=!1,a="remove");for(var s=0;s<t.length;s++)n.call($(t[s]),a,"disabledElement"),$(t[s]).prop("disabled",i)},r=this;return function(t,e){if(e){var n=t;""!=$(n).children("option:selected").val()&&s(n)}return!0}(this,e)&&$(r).change(function(){defferedQuery("WatchForJob",function(){s(r)},100)}),!0},Object.defineProperty(Object.prototype,"watchFromJobType",{enumerable:!1}),insertNewReport.prototype={install:function(){return this.exitMethod=!1,this.multiReport=!1,this.insertVal={},this.dateEdit={},this},valid:function(){return this.exitMethod?this:(ValidReport(["#hours"],["#errorHour"])||(this.exitMethod=!0),this)},getValues:function(){if(this.exitMethod)return this;var t={},e=["objName","jobType","programmerName","descrTextTS"],n={};"on"==$("#multiReport").attr("status")&&(this.multiReport=!0),$("#table-c td.today").each(function(t){n[t]=momentShort(new Date(""!=$(this).text()?$("#calendar-box").attr("data-year")+" "+todayMonthFromCalend($(this))+" "+$(this).html():new Date))});for(var i=0;i<e.length;i++)switch(e[i]){case"programmerName":t[i]=$("select#"+e[i]+" option:selected").attr("idnum");break;case"descrTextTS":t[i]=this.descriptionCreator(e[i]);break;default:t[i]=$("select#"+e[i]+" option:selected").val()}var a=e.length;return t[a]=n,t[a+1]=parseFloat($("#hours").val()),t[a+2]=5,console.log(t),this.dateEdit=n,this.insertVal=t||{},this},descriptionCreator:function(t){var e=void 0;["1","2"].indexOf($("#jobType").val())>-1&&$("#checkDesk").is(":checked")&&(i="["+$("#objectType option:selected").text()+("-none-"!==$("#objName option:selected").text().toLowerCase()?" => "+$("#objName option:selected").text():"")+"]",e=e||!0);var n=$("textarea#"+t).val().replace(/^ +|( )+$/,"").replace(/[\n\r]+$/gm," "),i=i||"";return encodeURIComponent((i+(""!=n?(e?": ":"")+n:"")).quoteString())},pushData:function(){if(this.exitMethod)return this;var t=momentShort(this.dateEdit[0],1),e=momentShort(this.dateEdit[0],7),n=$("#programmerName").val(),i=this.insertVal;return $(".buttonAddReport").addClass("success"),HttpRequest.runQuery(paths.edit,{method:"addReport",data:i},function(t){t&&showSQLError(t)}).done(function(){returnReportFromDB(n,t,e),monthTotalTime()}),this},closeEvent:function(){return this.exitMethod?this:($(".buttonAddReport").addClass("success"),this.wait(350,function(){$(".buttonAddReport").removeClass("success"),$("#descrTextTS").val(""),$("#hours").val("")}),this.multiReport&&($("#table-c td").off(),disableMultiReport("#multiReport"),takeMyDate(),getDateForDB()),showNotify("New record insert",500),this)},wait:function(t,e){setTimeout(function(){e()},t)}};var initAddAlg=function(){var t=t||new insertNewReport;t.install().valid().getValues().pushData().closeEvent()},showSQLError=function(t){t&&($(".SQLerror span").html(t),$(".SQLerror").css("visibility","visible").addClass("show"))},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},getCookie=function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},renderWeb=function(t,e){e?t=$("meta[name='curentPage']").attr("value"):$("meta[name='curentPage']").attr("value",t||"timeSheet"),HttpRequest.runQuery(".",{page:t||null},function(t){$(".inputHere").html(t)}).done(function(){putData(function(){timeSheetRunEvent(t)}),$("#programmerName").change(function(){var t=this;defferedQuery("programmerName",function(){getCurentReport($(t).val(),"getCalendar"),monthTotalTime()})})})},refrSwitch=function(){renderWeb(null,!0)},timeSheetRunEvent=function(t){"timeSheet"!=t&&t||(getCurentReport(getCookie("user"),""),renderCalendar(),new ReportEditTool([["#hoursJob","#descr"],["","#descLegendEdit"],["#jobType_m","#descLegendEdit"]]).runAllEvent(),$("#jobType").watchFromJobType(["#objectType","#objName"]),extrafunc())},printWeekDate=function(t,e,n,i){if(!t||!e)throw"Start or End date of week incorect. Please check! Functuion printWeekDate()";$("#weekSEchk").val(t.substr(5)+", "+e.substr(5));var a=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=t.split("-"),o=e.split("-"),l=void 0;if(l=n&&"short"==n.toLowerCase()?s:a,!i){$("#today").remove(),$("#calendar").append('<div id = "today" title = "Today!"><i class="fa fa-dot-circle-o" aria-hidden="true"></i></div>')}$("#weekSE").remove(),$("#calendar").append('<div id = "weekSE">'+r[2]+"  "+l[r[1]-1]+'<i class="fa fa-arrows-h" aria-hidden="true"></i>'+o[2]+"  "+l[o[1]-1]+"</div>")},loadClock=function(t){function e(t){return t<10&&(t="0"+t),t}var n=new Date,i=t,a=function(t){return"object"==(void 0===t?"undefined":_typeof(t))?t:document.getElementById(t)}("time"),s=a.getContext("2d");s.clearRect(0,0,a.width,a.height),s.textBaseline="top",s.shadowColor="#999",s.shadowBlur=6,s.shadowOffsetX=2,s.shadowOffsetY=4;var r="undefined"!=typeof InstallTrigger?20:15,o="undefined"!=typeof InstallTrigger?140:135,l=function(){s.font='bold 15px "PT Sans"',s.fillText(n.toJSON().split("T")[0]+" "+e(n.getHours())+":"+e(n.getMinutes())+":"+e(n.getSeconds()),0,r),s.fillText("  Logged user: "+i,o,r)};return s.fillStyle="#2ea04d",l(),setInterval(function(){n=new Date,s.clearRect(0,0,a.width,a.height),l()},1e3),!0};renderWeb(),$(".nav li a").click(function(t){t.preventDefault()}),$||document.write('<script src="./assets/js/vendor/jquery-3.2.1.min.js"><\/script>'),log("STATUS: Main JS file loaded ...");